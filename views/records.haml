%h2 Results
%div#target
  %table
    %thead
      %tr
        %th.green{:colspan => 2}
          %div.relative
            - if @prev_id
              .left{:onclick => "update_records(#{@prev_id});"}
            == Target (#{params[:which]})
            - if @next_id
              .right{:onclick => "update_records(#{@next_id});"}
      %tr
        %th{:style => "width: #{@label_length}ex"} Label
        %th{:style => "width: #{@value_length}ex"} Value
    %tbody
      - @target['_columns'].each_with_index do |name, i|
        %tr{:class => i % 2 == 1 ? 'alt' : nil}
          %td.label= name
          %td= @target[name]
%div#candidates
  - if @candidates.empty?
    No candidates for this target.
  - else
    - num = @candidates.first.length
    %table
      %thead
        %tr
          %th.blue{:colspan => num} Candidates
        %tr
          %th Label
          - (num-1).times do |i|
            %th= i+1
      %tbody
        - @candidates.each_with_index do |values, i|
          %tr{:class => i % 2 == 1 ? 'alt' : nil}
            - values.each_with_index do |value, i|
              %td{:class => (i == 0 ? 'label' : nil)}= value

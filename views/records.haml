%h2 Results
%div#target
  %table
    %thead
      %tr
        %th.green{:colspan => 2}
          %a{:href => '#', :onclick => "update_records(#{@which-1});"} &lt;
          Target (
          %div.editable= @which
          )
          %a{:href => '#', :onclick => "update_records(#{@which+1});"} &gt;
      %tr
        %th Label
        %th Value
    %tbody
      - session[:a_columns].each_with_index do |name, i|
        %tr{:class => i % 2 == 1 ? 'alt' : nil}
          %td.label= name
          %td= @target[name]
%div#candidates
  - if !@candidates.empty?
    %table
      %thead
        %tr
          %th.blue{:colspan => @candidates.length+1} Candidates
        %tr
          %th Label
          - @candidates.length.times do |i|
            %th= i+1
      %tbody
        - session[:b_columns].each_with_index do |name, i|
          %tr{:class => i % 2 == 1 ? 'alt' : nil}
            %td.label= name
            - @candidates.each do |candidate|
              %td= candidate[name]
